-- C√ìDIGO DEL EXECUTOR (GUI + ENV√çO)
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local CoreGui = game:GetService("CoreGui")

-- 1. BUSCAR LA PUERTA (RemoteEvent)
-- Usamos un tiempo de espera de 5 segundos para que no se bloquee el script
local remote = ReplicatedStorage:WaitForChild("CanalPrivado", 5)

if not remote then
    warn("‚ùå ERROR: No se encontr√≥ la backdoor 'CanalPrivado'.")
    return
end

-- 2. CREAR LA INTERFAZ VISUAL
-- Usamos CoreGui para que la ventana sea independiente de tu juego
local screenGui = Instance.new("ScreenGui", CoreGui)
screenGui.Name = "ServerSideExecutor"

local mainFrame = Instance.new("Frame", screenGui)
mainFrame.Size = UDim2.new(0, 350, 0, 220)
mainFrame.Position = UDim2.new(0.5, -175, 0.5, -110)
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
mainFrame.Active = true
mainFrame.Draggable = true -- Permite mover la ventana con el rat√≥n

local corner = Instance.new("UICorner", mainFrame)

local title = Instance.new("TextLabel", mainFrame)
title.Size = UDim2.new(1, 0, 0, 30)
title.Text = "SERVER EXECUTOR"
title.TextColor3 = Color3.new(1, 1, 1)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold

-- 3. CAJA DE TEXTO (Donde escribes el c√≥digo)
local textBox = Instance.new("TextBox", mainFrame)
textBox.Size = UDim2.new(0.9, 0, 0, 120)
textBox.Position = UDim2.new(0.05, 0, 0.2, 0)
textBox.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
textBox.TextColor3 = Color3.new(1, 1, 1)
textBox.Text = "print('Hola desde el Servidor')"
textBox.ClearTextOnFocus = false
textBox.MultiLine = true
textBox.TextXAlignment = Enum.TextXAlignment.Left
textBox.TextYAlignment = Enum.TextYAlignment.Top

-- 4. BOT√ìN DE EJECUCI√ìN
local executeBtn = Instance.new("TextButton", mainFrame)
executeBtn.Size = UDim2.new(0.9, 0, 0, 40)
executeBtn.Position = UDim2.new(0.05, 0, 0.78, 0)
executeBtn.BackgroundColor3 = Color3.fromRGB(0, 160, 0)
executeBtn.Text = "EXECUTE SERVER-SIDE"
executeBtn.TextColor3 = Color3.new(1, 1, 1)
executeBtn.Font = Enum.Font.GothamBold

local btnCorner = Instance.new("UICorner", executeBtn)

-- 5. L√ìGICA DE ENV√çO
executeBtn.MouseButton1Click:Connect(function()
    local codeToSend = textBox.Text
    -- Enviamos el texto directamente al servidor a trav√©s del RemoteEvent
    remote:FireServer(codeToSend)
    print("üöÄ C√≥digo enviado al servidor: " .. codeToSend)
end)

print("‚úÖ GUI del Executor cargada con √©xito.")
